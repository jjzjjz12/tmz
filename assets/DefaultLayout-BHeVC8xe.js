import{d as C,_ as S,r as t,c as u,w as z,o as s,a as e,b as T,F as D,e as U,f as n,g as p,h as g,t as L,v as G,u as j,i as w,j as J,s as R,k as N,l as F,m as P,n as E,K as Q}from"./index-Bwi5gLBw.js";import{u as H}from"./tabs-BlFqJ906.js";import{l as W}from"./logo-nDJS6iMc.js";const X=C({name:"MyMenu",props:{item:{type:Object,required:!0}},setup(){const o=H(),{addTab:_,setCurrentTab:d}=o;return{add:(a,c,l)=>{_(a,c,l),d(a,c)}}}});function Y(o,_,d,r,a,c){const l=t("el-icon"),f=t("my-menu"),y=t("el-sub-menu"),v=t("el-menu-item");return o.item.children?(s(),u(y,{key:0,index:o.item.url},{title:e(()=>[n(l,null,{default:e(()=>[(s(),u(g(o.item.icon)))]),_:1}),p("span",null,L(o.item.name),1)]),default:e(()=>[(s(!0),T(D,null,U(o.item.children,b=>(s(),u(f,{key:b.url,item:b},null,8,["item"]))),128))]),_:1},8,["index"])):z((s(),u(v,{key:1,index:o.item.url,onClick:_[0]||(_[0]=b=>o.add(o.item.name,o.item.url,o.item.icon))},{default:e(()=>[n(l,null,{default:e(()=>[(s(),u(g(o.item.icon)))]),_:1}),p("span",null,L(o.item.name),1)]),_:1},8,["index"])),[[G,o.item.name!=="订单详情"]])}const Z=S(X,[["render",Y],["__scopeId","data-v-d025210e"]]),x={class:"logo"},ee=["src"],ne=C({__name:"Menu",setup(o){const d=j().menu;return(r,a)=>{const c=t("el-menu");return s(),T(D,null,[p("div",x,[p("img",{src:w(W),width:"34px",height:"34px"},null,8,ee),a[0]||(a[0]=p("h1",null,"谭美姿",-1))]),n(c,{router:!0,"default-active":r.$route.path},{default:e(()=>[(s(!0),T(D,null,U(w(d),l=>(s(),u(Z,{item:l,key:l.url},null,8,["item"]))),128))]),_:1},8,["default-active"])],64)}}}),te=S(ne,[["__scopeId","data-v-679a0b54"]]),oe={class:"header"},se={class:"personal"},ae={class:"el-dropdown-link"},le=C({__name:"TopHeader",setup(o){const _=J(5),d=j(),{username:r}=R(d),a=F(),c=l=>{l==="user"?a.push("/personal"):(d.logout(),a.push("/login"))};return(l,f)=>{const y=t("Bell"),v=t("el-icon"),b=t("el-badge"),M=t("el-avatar"),B=t("arrow-down"),k=t("el-dropdown-item"),V=t("el-dropdown-menu"),A=t("el-dropdown");return s(),T("div",oe,[p("div",se,[n(b,{"is-dot":_.value>0,class:"item"},{default:e(()=>[n(v,null,{default:e(()=>[n(y)]),_:1})]),_:1},8,["is-dot"]),n(M,{src:"https://cube.elemecdn.com/0/88/03b0d39583f48206768a7534e55bcpng.png",class:"ml mr"}),n(A,{onCommand:c},{dropdown:e(()=>[n(V,null,{default:e(()=>[n(k,{icon:"User",command:"user"},{default:e(()=>f[0]||(f[0]=[N("个人中心")])),_:1}),n(k,{icon:"SwitchButton",command:"logout"},{default:e(()=>f[1]||(f[1]=[N("退出登录")])),_:1})]),_:1})]),default:e(()=>[p("span",ae,[N(" 欢迎！"+L(w(r))+" ",1),n(v,{class:"el-icon--right"},{default:e(()=>[n(B)]),_:1})])]),_:1})])])}}}),ue=S(le,[["__scopeId","data-v-616fd60e"]]),re={class:"custom-tabs-label"},ce=C({__name:"TabsLayout",setup(o){const _=F(),d=H(),{tabs:r,currentTab:a}=R(d),{setCurrentTab:c,addTab:l,removeTab:f}=d,y=P(),v=j(),{menu:b}=R(v),M=({index:m})=>{_.push(r.value[m].url),c(r.value[m].name,r.value[m].url)};function B(m,$){for(const h of m){if(h.url===$)return h;if(h.children){const I=B(h.children,$);if(I)return I}}return null}const{name:k,url:V,icon:A}=B(b.value,y.path);l(k,V,A),c(k,V);const K=m=>{f(m),_.push(a.value.url)};return(m,$)=>{const h=t("el-icon"),I=t("el-tab-pane"),O=t("router-view"),q=t("el-tabs");return s(),u(q,{modelValue:w(a).name,"onUpdate:modelValue":$[0]||($[0]=i=>w(a).name=i),type:"card",closable:"",class:"demo-tabs",onTabClick:M,onTabRemove:K},{default:e(()=>[(s(!0),T(D,null,U(w(r),i=>(s(),u(I,{key:i.url,label:i.name,name:i.name},{label:e(()=>[p("span",re,[n(h,null,{default:e(()=>[(s(),u(g(i.icon)))]),_:2},1024),p("span",null," "+L(i.name),1)])]),_:2},1032,["label","name"]))),128)),n(O,null,{default:e(({Component:i})=>[(s(),u(Q,null,[m.$route.meta.keepAlive?(s(),u(g(i),{key:m.$route.name})):E("",!0)],1024)),m.$route.meta.keepAlive?E("",!0):(s(),u(g(i),{key:m.$route.name}))]),_:1})]),_:1},8,["modelValue"])}}}),me=S(ce,[["__scopeId","data-v-2b11f953"]]),_e=C({__name:"DefaultLayout",setup(o){return(_,d)=>{const r=t("el-aside"),a=t("el-header"),c=t("el-main"),l=t("el-container");return s(),u(l,null,{default:e(()=>[n(r,{width:"200px"},{default:e(()=>[n(te)]),_:1}),n(l,null,{default:e(()=>[n(a,null,{default:e(()=>[n(ue)]),_:1}),n(c,null,{default:e(()=>[n(me)]),_:1})]),_:1})]),_:1})}}}),fe=S(_e,[["__scopeId","data-v-c36d6863"]]);export{fe as default};
